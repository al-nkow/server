{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./frontend/index.js","webpack:///./frontend/js/products.js","webpack:///./frontend/js/renderProductsList.js","webpack:///./frontend/js/urlService.js","webpack:///./frontend/js/windowScrollService.js","webpack:///./frontend/styles/style.scss","webpack:///./node_modules/bootstrap/dist/css/bootstrap.min.css"],"names":["currentUrl","window","location","href","indexOf","Products","PRODUCTS_PORTION_SIZE","searchForm","document","getElementById","searchInp","categorySelect","brandSelect","baseUrl","split","filtersBlock","filtersAmount","searchTimeout","fullProductsList","productsPortion","searchFormSubmitHandler","event","preventDefault","addParameterToUrl","value","searchRequest","initFromToInputsChangeListeners","inputIds","forEach","key","element","addEventListener","inpValue","target","str","replace","clearTimeout","setTimeout","initFilterValues","queryParams","urlService","getUrlParamsAsObject","searchInputValue","search","categoryValue","category","brandValue","brand","decodeURIComponent","body","innerHTML","Object","keys","length","SEARCH_URL","myHeaders","Headers","fetchData","method","JSON","stringify","headers","append","fetch","then","response","json","res","data","searchResult","showProductsPortion","catch","error","console","log","clear","splice","renderProductsList","queryString","createUrlParamsString","url","history","pushState","path","categorySelectChangeHandler","brandSelectChangeHandler","windowScrollService","id","classList","toggle","wrap","fragment","createDocumentFragment","item","card","createElement","add","props","name","units","propsLayout","reduce","prop","_id","image","minPrice","categoryName","appendChild","vars","m","objectParams","callback","browserWinHeight","innerHeight","windowScrollValue","pageYOffset","siteHeader","productsSearchBlock","productsListBlock","pageHeight","offsetHeight","fullScroll"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./frontend/index.js\");\n","import Products from './js/products';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles/style.scss';\n\nconst currentUrl = window.location.href;\n\nif (currentUrl.indexOf('/products') !== -1) Products();","import urlService from './urlService';\nimport renderProductsList from './renderProductsList';\nimport windowScrollService from './windowScrollService';\n\nconst Products = () => {\n  const PRODUCTS_PORTION_SIZE = 9;\n  const searchForm = document.getElementById('searchForm');\n  const searchInp = document.getElementById('searchInp');\n  const categorySelect = document.getElementById('categorySelect');\n  const brandSelect = document.getElementById('brandSelect');\n  const baseUrl = window.location.href.split('?')[0];\n  const filtersBlock = document.getElementById(\n    'productsFiltersBlock',\n  );\n  const filtersAmount = document.getElementById('filtersAmount');\n\n  let searchTimeout;\n  let fullProductsList = [];\n  let productsPortion = [];\n\n  /**\n   * Submit search form\n   */\n  function searchFormSubmitHandler(event) {\n    event.preventDefault();\n    addParameterToUrl('search', searchInp.value);\n    searchRequest();\n  }\n\n  /**\n   * Init filter inputs (from/to) change listeners\n   */\n  function initFromToInputsChangeListeners() {\n    const inputIds = [\n      'heightFrom',\n      'heightTo',\n      'widthFrom',\n      'widthTo',\n      'thicknessFrom',\n      'thicknessTo',\n      'weightFrom',\n      'weightTo',\n      'volumeLFrom',\n      'volumeLTo',\n      'volumeMFrom',\n      'volumeMTo',\n      'areaFrom',\n      'areaTo',\n    ];\n    inputIds.forEach(key => {\n      const element = document.getElementById(key);\n      element.addEventListener('input', function(event) {\n        const { value: inpValue } = event.target;\n        const str = inpValue.replace(/[^+\\d]/g, '');\n        event.target.value = str;\n        addParameterToUrl(key, str);\n        clearTimeout(searchTimeout);\n        searchTimeout = setTimeout(function() {\n          searchRequest();\n        }, 500);\n      });\n    });\n  }\n\n  /**\n   * Set the values of all filters according to the url parameters\n   */\n  function initFilterValues() {\n    const queryParams = urlService.getUrlParamsAsObject();\n    const searchInputValue = queryParams.search;\n    const categoryValue = queryParams.category;\n    const brandValue = queryParams.brand;\n\n    if (searchInputValue)\n      searchInp.value = decodeURIComponent(searchInputValue);\n    if (brandValue)\n      brandSelect.value = decodeURIComponent(brandValue);\n    if (categoryValue) categorySelect.value = categoryValue;\n  }\n\n  /**\n   * Perform search request\n   */\n  function searchRequest() {\n    const body = urlService.getUrlParamsAsObject();\n    filtersAmount.innerHTML = Object.keys(body).length;\n\n    if (body.search) body.search = decodeURIComponent(body.search);\n    if (body.brand) body.brand = decodeURIComponent(body.brand);\n\n    const SEARCH_URL = '/api/products/search';\n    const myHeaders = new Headers();\n    const fetchData = {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: myHeaders,\n    };\n\n    myHeaders.append('Content-Type', 'application/json');\n\n    fetch(SEARCH_URL, fetchData)\n      .then(response => response.json())\n      .then(function(res) {\n        const data =\n          res && res.searchResult ? res.searchResult : null;\n        // renderProductsList(data, true); // - render full list\n        fullProductsList = data;\n        showProductsPortion(true);\n      })\n      .catch(function(error) {\n        console.log('SEARCH ERROR:', error);\n      });\n  }\n\n  /**\n   * Render or append portion of products in to products list wrap section\n   * @param {boolean} clear - do we need to clear block if no products?\n   */\n  function showProductsPortion(clear) {\n    if ((!fullProductsList || !fullProductsList.length) && !clear)\n      return;\n\n    productsPortion =\n      fullProductsList && fullProductsList.length\n        ? fullProductsList.splice(0, PRODUCTS_PORTION_SIZE)\n        : [];\n    renderProductsList(productsPortion, clear);\n  }\n\n  /**\n   * Add parameter to url (without reload)\n   * @param {string} key\n   * @param {string} value\n   */\n  function addParameterToUrl(key, value) {\n    const queryParams = urlService.getUrlParamsAsObject();\n    queryParams[key] = value;\n    const queryString = urlService.createUrlParamsString(queryParams);\n    const url = baseUrl + queryString;\n    if (history.pushState)\n      window.history.pushState({ path: url }, '', url);\n  }\n\n  /**\n   * Category select change handler\n   * @param event\n   */\n  function categorySelectChangeHandler(event) {\n    addParameterToUrl('category', event.target.value);\n    searchRequest();\n  }\n\n  /**\n   * Brand select change handler\n   * @param event\n   */\n  function brandSelectChangeHandler(event) {\n    addParameterToUrl('brand', event.target.value);\n    searchRequest();\n  }\n\n  categorySelect.addEventListener(\n    'change',\n    categorySelectChangeHandler,\n  );\n  brandSelect.addEventListener('change', brandSelectChangeHandler);\n  searchForm.addEventListener('submit', searchFormSubmitHandler);\n  initFilterValues();\n  initFromToInputsChangeListeners();\n  windowScrollService(showProductsPortion);\n  searchRequest();\n\n  // =========================\n  ['productsFiltersToggle', 'productsFiltersToggleHead'].forEach(\n    id => {\n      document.getElementById(id).addEventListener('click', () => {\n        filtersBlock.classList.toggle('active');\n      });\n    },\n  );\n};\n\nexport default Products;\n","const renderProductsList = (data, clear) => {\n  const wrap = document.getElementById('productsListWrap');\n\n  if (!data || !data.length) {\n    wrap.innerHTML =\n      'По Вашему запросу ничего не найдено, попробуйте изменить параметры поиска и повторить попытку';\n    return;\n  }\n\n  const fragment = document.createDocumentFragment();\n\n  data.forEach(item => {\n    const card = document.createElement('div');\n    card.classList.add('col-12', 'col-md-6', 'col-lg-4');\n\n    const props = [\n      {\n        name: 'Ширина',\n        key: 'width',\n        units: 'мм',\n      },\n      {\n        name: 'Высота',\n        key: 'height',\n        units: 'мм',\n      },\n      {\n        name: 'Толщина',\n        key: 'thickness',\n        units: 'мм',\n      },\n      {\n        name: 'Объём',\n        key: 'volumeL',\n        units: 'л',\n      },\n      {\n        name: 'Объём',\n        key: 'volumeM',\n        units: 'м.куб',\n      },\n      {\n        name: 'Вес',\n        key: 'weight',\n        units: 'кг',\n      },\n      {\n        name: 'Площадь',\n        key: 'area',\n        units: 'м.кв',\n      },\n    ];\n\n    const propsLayout = props.reduce((res, prop) => {\n      res += `${\n        item[prop.key]\n          ? `<div class=\"col-6\">${\n              prop.name\n            }: </div><div class=\"col-6\">${item[prop.key]}${\n              prop.units\n            }</div>`\n          : ''\n      }`;\n      return res;\n    }, '');\n\n    card.innerHTML = `\n      <a class=\"product-card card mb-3\" href=\"/prices?product=${\n        item._id\n      }\">\n        <img class=\"card-img-top\" src=\"${item.image ||\n          'images/noimg.png'}\" alt=\"\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">${item.name}</h5>\n          ${\n            item.brand\n              ? '<h6 class=\"card-subtitle mb-2 text-muted\">' +\n                item.brand +\n                '</h6>'\n              : ''\n          }\n          <p class=\"card-text\">\n            <div class=\"row\">\n              ${propsLayout}\n            </div>\n          </p>\n          ${\n            item.minPrice\n              ? '<p class=\"card-text product-card__price\">' +\n                'Цена от ' +\n                item.minPrice +\n                'руб.' +\n                '</p>'\n              : ''\n          }\n          ${\n            item.categoryName\n              ? '<p class=\"card-text\"><small class=\"text-muted\">' +\n                item.categoryName +\n                '</small></p>'\n              : ''\n          }\n        </div>\n      <a>\n    `;\n\n    if (clear) wrap.innerHTML = '';\n    fragment.appendChild(card);\n  });\n\n  wrap.appendChild(fragment);\n};\n\nexport default renderProductsList;\n","const urlService = () => {\n  /**\n   * Get full url and return object of urlParams as { key: value }\n   * @returns {object}}\n   */\n  function getUrlParamsAsObject() {\n    const vars = {};\n    window.location.href.replace(\n      /[?&]+([^=&]+)=([^&]*)/gi,\n      (m, key, value) => {\n        vars[key] = value;\n      },\n    );\n    return vars;\n  }\n\n  /**\n   * Get params as object and return string (?param1=a?param2=b...)\n   * @param {object} objectParams\n   * @returns {string}\n   */\n  function createUrlParamsString(objectParams) {\n    let queryString = '';\n    for (let key in objectParams) {\n      queryString = queryString\n        ? queryString + '&'\n        : queryString + '?';\n      if (objectParams[key])\n        queryString += key + '=' + objectParams[key];\n    }\n    return queryString;\n  }\n\n  return {\n    getUrlParamsAsObject,\n    createUrlParamsString,\n  };\n};\n\nexport default urlService();\n","/**\n * Watch window scroll and perform callback when almost bottom\n * @param {function} callback\n */\n\nexport default callback => {\n  window.addEventListener('scroll', function() {\n    const browserWinHeight = window.innerHeight;\n    const windowScrollValue = window.pageYOffset;\n    const siteHeader = document.getElementById('siteHeader');\n    const productsSearchBlock = document.getElementById(\n      'productsSearchBlock',\n    );\n    const productsListBlock = document.getElementById(\n      'productsListBlock',\n    );\n    const pageHeight =\n      siteHeader.offsetHeight +\n      productsSearchBlock.offsetHeight +\n      productsListBlock.offsetHeight;\n    const fullScroll = windowScrollValue + browserWinHeight;\n\n    if (pageHeight - fullScroll < 50) {\n      callback();\n    }\n  });\n};\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"],"sourceRoot":""}