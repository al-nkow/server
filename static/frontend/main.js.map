{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./frontend/index.js","webpack:///./frontend/js/products.js","webpack:///./frontend/js/renderProductsList.js","webpack:///./frontend/js/urlService.js","webpack:///./frontend/js/windowScrollService.js","webpack:///./frontend/styles/style.scss","webpack:///./node_modules/bootstrap/dist/css/bootstrap.min.css"],"names":["currentUrl","window","location","href","indexOf","Products","PRODUCTS_PORTION_SIZE","searchForm","document","getElementById","searchInp","categorySelect","brandSelect","baseUrl","split","filtersBlock","filtersAmount","fromToInputIds","searchTimeout","fullProductsList","productsPortion","searchFormSubmitHandler","event","preventDefault","searchValue","clearValue","value","addParameterToUrl","searchRequest","replace","initSearchInputValidation","addEventListener","target","initFromToInputsChangeListeners","forEach","key","element","inpValue","str","clearTimeout","setTimeout","initFilterValues","queryParams","urlService","getUrlParamsAsObject","searchInputValue","search","categoryValue","category","brandValue","brand","item","decodeURIComponent","body","innerHTML","Object","keys","length","SEARCH_URL","myHeaders","Headers","fetchData","method","JSON","stringify","headers","append","fetch","then","response","json","res","data","searchResult","showProductsPortion","catch","error","console","log","clear","splice","renderProductsList","queryString","createUrlParamsString","url","history","pushState","path","categorySelectChangeHandler","brandSelectChangeHandler","windowScrollService","id","classList","toggle","wrap","fragment","createDocumentFragment","card","createElement","add","props","name","units","propsLayout","reduce","prop","_id","image","minPrice","categoryName","appendChild","vars","m","objectParams","callback","browserWinHeight","innerHeight","windowScrollValue","pageYOffset","siteHeader","productsSearchBlock","productsListBlock","pageHeight","offsetHeight","fullScroll"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./frontend/index.js\");\n","import Products from './js/products';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles/style.scss';\n\nconst currentUrl = window.location.href;\n\nif (currentUrl.indexOf('/products') !== -1) Products();\n","import urlService from './urlService';\nimport renderProductsList from './renderProductsList';\nimport windowScrollService from './windowScrollService';\n\nconst Products = () => {\n  const PRODUCTS_PORTION_SIZE = 9;\n  const searchForm = document.getElementById('searchForm');\n  const searchInp = document.getElementById('searchInp');\n  const categorySelect = document.getElementById('categorySelect');\n  const brandSelect = document.getElementById('brandSelect');\n  const baseUrl = window.location.href.split('?')[0];\n  const filtersBlock = document.getElementById(\n    'productsFiltersBlock',\n  );\n  const filtersAmount = document.getElementById('filtersAmount');\n\n  const fromToInputIds = [\n    'heightFrom',\n    'heightTo',\n    'widthFrom',\n    'widthTo',\n    'thicknessFrom',\n    'thicknessTo',\n    'weightFrom',\n    'weightTo',\n    'volumeLFrom',\n    'volumeLTo',\n    'volumeMFrom',\n    'volumeMTo',\n    'areaFrom',\n    'areaTo',\n  ];\n\n  let searchTimeout;\n  let fullProductsList = [];\n  let productsPortion = [];\n\n  /**\n   * Submit search form\n   */\n  function searchFormSubmitHandler(event) {\n    event.preventDefault();\n    const searchValue = clearValue(searchInp.value);\n\n    addParameterToUrl('search', searchValue);\n    searchRequest();\n  }\n\n  /**\n   * Replace all but numbers and letters\n   */\n  function clearValue(value) {\n    return value && typeof value === 'string'\n      ? value.replace(/[^\\s0-9а-яА-Яa-zA-Z]/gi, '')\n      : '';\n  }\n\n  /**\n   * Search input validation\n   */\n  function initSearchInputValidation() {\n    searchInp.addEventListener('keyup', function(event) {\n      const value = clearValue(event.target.value);\n      event.target.value = value;\n    })\n  }\n\n  /**\n   * Init filter inputs (from/to) change listeners\n   */\n  function initFromToInputsChangeListeners() {\n    fromToInputIds.forEach(key => {\n      const element = document.getElementById(key);\n      element.addEventListener('input', function(event) {\n        const { value: inpValue } = event.target;\n        const str = inpValue.replace(/[^+\\d]/g, '');\n        event.target.value = str;\n        addParameterToUrl(key, str);\n        clearTimeout(searchTimeout);\n        searchTimeout = setTimeout(function() {\n          searchRequest();\n        }, 500);\n      });\n    });\n  }\n\n  /**\n   * Set the values of all filters according to the url parameters\n   */\n  function initFilterValues() {\n    const queryParams = urlService.getUrlParamsAsObject();\n    const searchInputValue = queryParams.search;\n    const categoryValue = queryParams.category;\n    const brandValue = queryParams.brand;\n\n    fromToInputIds.forEach(item => {\n      const inpValue = queryParams[item];\n      if (inpValue) document.getElementById(item).value = inpValue;\n    });\n\n    if (searchInputValue)\n      searchInp.value = decodeURIComponent(searchInputValue);\n    if (brandValue)\n      brandSelect.value = decodeURIComponent(brandValue);\n    if (categoryValue) categorySelect.value = categoryValue;\n  }\n\n  /**\n   * Perform search request\n   */\n  function searchRequest() {\n    const body = urlService.getUrlParamsAsObject();\n    filtersAmount.innerHTML = Object.keys(body).length;\n\n    if (body.search) body.search = decodeURIComponent(body.search);\n    if (body.brand) body.brand = decodeURIComponent(body.brand);\n\n    const SEARCH_URL = '/api/products/search';\n    const myHeaders = new Headers();\n    const fetchData = {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: myHeaders,\n    };\n\n    myHeaders.append('Content-Type', 'application/json');\n\n    fetch(SEARCH_URL, fetchData)\n      .then(response => response.json())\n      .then(function(res) {\n        const data =\n          res && res.searchResult ? res.searchResult : null;\n        // renderProductsList(data, true); // - render full list\n        fullProductsList = data;\n        showProductsPortion(true);\n      })\n      .catch(function(error) {\n        console.log('SEARCH ERROR:', error);\n      });\n  }\n\n  /**\n   * Render or append portion of products in to products list wrap section\n   * @param {boolean} clear - do we need to clear block if no products?\n   */\n  function showProductsPortion(clear) {\n    if ((!fullProductsList || !fullProductsList.length) && !clear)\n      return;\n\n    productsPortion =\n      fullProductsList && fullProductsList.length\n        ? fullProductsList.splice(0, PRODUCTS_PORTION_SIZE)\n        : [];\n    renderProductsList(productsPortion, clear);\n  }\n\n  /**\n   * Add parameter to url (without reload)\n   * @param {string} key\n   * @param {string} value\n   */\n  function addParameterToUrl(key, value) {\n    const queryParams = urlService.getUrlParamsAsObject();\n    queryParams[key] = value;\n    const queryString = urlService.createUrlParamsString(queryParams);\n    const url = baseUrl + queryString;\n    if (history.pushState)\n      window.history.pushState({ path: url }, '', url);\n  }\n\n  /**\n   * Category select change handler\n   * @param event\n   */\n  function categorySelectChangeHandler(event) {\n    addParameterToUrl('category', event.target.value);\n    searchRequest();\n  }\n\n  /**\n   * Brand select change handler\n   * @param event\n   */\n  function brandSelectChangeHandler(event) {\n    addParameterToUrl('brand', event.target.value);\n    searchRequest();\n  }\n\n  categorySelect.addEventListener(\n    'change',\n    categorySelectChangeHandler,\n  );\n  brandSelect.addEventListener('change', brandSelectChangeHandler);\n  searchForm.addEventListener('submit', searchFormSubmitHandler);\n  initFilterValues();\n  initFromToInputsChangeListeners();\n  windowScrollService(showProductsPortion);\n  searchRequest();\n  initSearchInputValidation();\n\n  ['productsFiltersToggle', 'productsFiltersToggleHead'].forEach(\n    id => {\n      document.getElementById(id).addEventListener('click', () => {\n        filtersBlock.classList.toggle('active');\n      });\n    },\n  );\n};\n\nexport default Products;\n","const renderProductsList = (data, clear) => {\n  const wrap = document.getElementById('productsListWrap');\n\n  if (!data || !data.length) {\n    wrap.innerHTML =\n      '<div class=\"col-12\">По Вашему запросу ничего не найдено, попробуйте изменить параметры поиска и повторить попытку</div>';\n    return;\n  }\n\n  const fragment = document.createDocumentFragment();\n\n  data.forEach(item => {\n    const card = document.createElement('div');\n    card.classList.add('col-12', 'col-md-6', 'col-lg-4');\n\n    const props = [\n      {\n        name: 'Ширина',\n        key: 'width',\n        units: 'мм',\n      },\n      {\n        name: 'Высота',\n        key: 'height',\n        units: 'мм',\n      },\n      {\n        name: 'Толщина',\n        key: 'thickness',\n        units: 'мм',\n      },\n      {\n        name: 'Объём',\n        key: 'volumeL',\n        units: 'л',\n      },\n      {\n        name: 'Объём',\n        key: 'volumeM',\n        units: 'м.куб',\n      },\n      {\n        name: 'Вес',\n        key: 'weight',\n        units: 'кг',\n      },\n      {\n        name: 'Площадь',\n        key: 'area',\n        units: 'м.кв',\n      },\n    ];\n\n    const propsLayout = props.reduce((res, prop) => {\n      res += `${\n        item[prop.key]\n          ? `<div class=\"col-6\">${\n              prop.name\n            }: </div><div class=\"col-6\">${item[prop.key]}${\n              prop.units\n            }</div>`\n          : ''\n      }`;\n      return res;\n    }, '');\n\n    card.innerHTML = `\n      <a class=\"product-card card mb-3\" href=\"/prices?product=${\n        item._id\n      }\">\n        <img class=\"card-img-top\" src=\"${item.image ||\n          'images/noimg.png'}\" alt=\"\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">${item.name}</h5>\n          ${\n            item.brand\n              ? '<h6 class=\"card-subtitle mb-2 text-muted\">' +\n                item.brand +\n                '</h6>'\n              : ''\n          }\n          <p class=\"card-text\">\n            <div class=\"row\">\n              ${propsLayout}\n            </div>\n          </p>\n          ${\n            item.minPrice\n              ? '<p class=\"card-text product-card__price\">' +\n                'Цена от ' +\n                item.minPrice +\n                'руб.' +\n                '</p>'\n              : ''\n          }\n          ${\n            item.categoryName\n              ? '<p class=\"card-text\"><small class=\"text-muted\">' +\n                item.categoryName +\n                '</small></p>'\n              : ''\n          }\n        </div>\n      <a>\n    `;\n\n    if (clear) wrap.innerHTML = '';\n    fragment.appendChild(card);\n  });\n\n  wrap.appendChild(fragment);\n};\n\nexport default renderProductsList;\n","const urlService = () => {\n  /**\n   * Get full url and return object of urlParams as { key: value }\n   * @returns {object}}\n   */\n  function getUrlParamsAsObject() {\n    const vars = {};\n    window.location.href.replace(\n      /[?&]+([^=&]+)=([^&]*)/gi,\n      (m, key, value) => {\n        vars[key] = value;\n      },\n    );\n    return vars;\n  }\n\n  /**\n   * Get params as object and return string (?param1=a?param2=b...)\n   * @param {object} objectParams\n   * @returns {string}\n   */\n  function createUrlParamsString(objectParams) {\n    let queryString = '';\n    for (let key in objectParams) {\n      queryString = queryString\n        ? queryString + '&'\n        : queryString + '?';\n      if (objectParams[key])\n        queryString += key + '=' + objectParams[key];\n    }\n    return queryString;\n  }\n\n  return {\n    getUrlParamsAsObject,\n    createUrlParamsString,\n  };\n};\n\nexport default urlService();\n","/**\n * Watch window scroll and perform callback when almost bottom\n * @param {function} callback\n */\n\nexport default callback => {\n  window.addEventListener('scroll', function() {\n    const browserWinHeight = window.innerHeight;\n    const windowScrollValue = window.pageYOffset;\n    const siteHeader = document.getElementById('siteHeader');\n    const productsSearchBlock = document.getElementById(\n      'productsSearchBlock',\n    );\n    const productsListBlock = document.getElementById(\n      'productsListBlock',\n    );\n    const pageHeight =\n      siteHeader.offsetHeight +\n      productsSearchBlock.offsetHeight +\n      productsListBlock.offsetHeight;\n    const fullScroll = windowScrollValue + browserWinHeight;\n\n    if (pageHeight - fullScroll < 50) {\n      callback();\n    }\n  });\n};\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"],"sourceRoot":""}